<!doctype html>


<head><title>PowerFlowAI</title> 
    <meta charset=utf-8> </head>



	
    <p>Current Date and Time is <span id='date-time'></span>.</p>


	<form method="POST" action="/addVehicle">
	    Add a Vehicle:<br>
		<input type="text" size = 40 placeholder = "Vehicle #" name="vehicleNo" required /><br>
		<input type="number" max = 100 min = 0 size = 40 placeholder = "Current Charge (#%)" name="currentCharge"/><br>
		<input type="number" max = 100 min = 0 size = 40 placeholder = "Desired Charge (#%)" name="desiredCharge"/><br>
		<input type="datetime-local" size = 40 placeholder = "Departure Time (YYYY-MM-DD HH:MM:SS)" min="2017-06-01T08:30" max="2030-06-30T16:30" name="departureTime" required/><br>
		<span class="validity"></span>
		<input type="text" size = 40 placeholder = "NewStatus {Arrived / Charging}?" name="newStatus" required pattern="Arrived|Charging"   list="l1" /><br>
		    <datalist id="l1">
	      		<option>Arrived</option>
	      		<option>Charging</option>
    		</datalist>
		<input type="submit">
  	</form>

	<button onclick="optimize()">Optimize</button>
	<button onclick="GetVehicles()">Get Vehicles</button>
	<div id="output"></div>

	</body>

	<script src="https://cdn.jsdelivr.net/npm/superagent"></script>
	<script>
	function optimize(){
	   var url = '/optimize/';

	   superagent
	       .get(url)
	       .end(function(err, res){
	           if (err) {
	               console.log('err:',err);
	           } else {
	               console.log('response:',res.text);
	               document.body.append(res.text)
	               //return res.text

	           }

	       });

		
	}

	</script>

	<script>
	function XaddVehicle(){
	   var vehicleNo = document.getElementById('vehicleNo').value;
	   var currentCharge = document.getElementById('currentCharge').value;
	   var desiredCharge = document.getElementById('desiredCharge').value;
	   var departureTime = document.getElementById('departureTime').value;
	   var newStatus = document.getElementById('newStatus').value;
	   console.log(vehicleNo);
	   console.log(currentTime);
	   console.log(currentCharge);
	   console.log(desiredCharge);
	   console.log(departureTime);
	   console.log(newStatus);

	   var url = `/XaddVehicle?vehicleNo=${vehicleNo}&currentCharge=${currentCharge}&desiredCharge=${desiredCharge}&departureTime=${departureTime}&newStatus=${newStatus}`;

	   superagent
	       .get(url)
	       .end(function(err, res){
	           if (err) {
	               console.log('err:',err);
	           } else {
	               console.log('response:',res.text);
	           }
	       });
	}
	</script>

	<script>
	function GetVehicles(){
	   var url = '/GetVehicles/';

	   superagent
	       .get(url)
	       .end(function(err, res){
	           if (err) {
	               console.log('err:',err);
	           } else {
	               console.log('response:',res.text);
	               document.body.append(res.text)
	               //return res.text

	           }

	       });

		
	}

	</script>









